"use strict";var Rectangle=function(){function t(t){this.object=t}return t.prototype.draw=function(t){var e=this.object.position,n=this.object.width,o=this.object.height;0<this.object.collisions.size?t.strokeStyle="#ff0000":t.strokeStyle="#000000",t.lineWidth=1,t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.x+n,e.y),t.lineTo(e.x+n,e.y+o),t.lineTo(e.x,e.y+o),t.lineTo(e.x,e.y),t.stroke()},t.prototype.print=function(){console.log("Rectangle{position: "+this.object.position+", width: "+this.object.width+", "+this.object.height)},t}(),Renderer=function(){function t(t){this.canvas=t,this.renderables=[]}return t.prototype.draw=function(){for(var t=0,e=this.renderables;t<e.length;t++){e[t].draw(this.canvas)}},t.prototype.add=function(t){t instanceof NtRectangle&&this.renderables.push(new Rectangle(t))},t.prototype.remove=function(e){var t=this.renderables.findIndex(function(t){return t.object==e});-1!=t&&this.renderables.splice(t,1)},t}(),NtBase=function(){function e(t){this.position=t,this.id=e.counter++,this.collisions=new Set}return e.counter=0,e}(),__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NtRectangle=function(i){function e(t,e,n){var o=i.call(this,t)||this;return o.width=e,o.height=n,o}return __extends(e,i),e.prototype.collidesWith=function(t){return t instanceof e&&this.doRectanglesOverlap(t)},e.prototype.doRectanglesOverlap=function(t){return!(t.position.x+t.width<this.position.x||this.position.x+this.width<t.position.x||t.position.y+t.height<this.position.y||this.position.y+this.height<t.position.y)},e.prototype.toString=function(){return"NtRectangle{position: "+this.position+", width: "+this.width+", height: "+this.height+"}"},e}(NtBase),NtVec=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.toString=function(){return"NtVec{x: "+this.x+", y: "+this.y+"}"},t}(),NtWorld=function(){function t(t){this.renderer=t,this.list=[]}return t.prototype.step=function(){var t=this;this.list.forEach(function(t){t.collisions.clear()}),this.list.forEach(function(e){t.list.forEach(function(t){e!=t&&e.collidesWith(t)&&(e.collisions.add(t),t.collisions.add(e))})})},t.prototype.add=function(t){this.list.push(t),this.renderer.add(t)},t.prototype.remove=function(t){var e=this.list.indexOf(t);-1!=e&&(this.list.splice(e,1),this.renderer.remove(t))},t}(),phys1=new NtRectangle(new NtVec(10,30),50,40);console.log(phys1);var phys2=new NtRectangle(new NtVec(190,30),20,80);console.log(phys2);var phys3=new NtRectangle(new NtVec(200,60),150,120);console.log(phys3);var canvas=document.getElementById("myCanvas"),canvasContext=canvas.getContext("2d"),renderer=new Renderer(canvasContext),world=new NtWorld(renderer);world.add(phys1),world.add(phys2),world.add(phys3),world.step(),renderer.draw();